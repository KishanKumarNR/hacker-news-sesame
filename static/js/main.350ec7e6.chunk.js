(this["webpackJsonphacker-news-clone"]=this["webpackJsonphacker-news-clone"]||[]).push([[0],{39:function(n,t,e){n.exports=e(73)},44:function(n,t,e){},72:function(n,t,e){},73:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),a=e(8),c=e.n(a),i=(e(44),e(2)),u=e(1);function s(){var n=Object(i.a)(['\n    * {\n      box-sizing: border-box;\n    }\n    html, body {\n      font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n      width: 100vw;\n      overflow-x: hidden;\n      margin: 0;\n      padding: 0;\n      background: "black";\n    }\n    ul {\n      list-style: none;\n      padding: 0;\n    }\n    a {\n      text-decoration: none;\n      &:visited {\n        color: inherit;\n      }\n    }\n  ']);return s=function(){return n},n}var l=Object(u.b)(s()),d=e(11),h=e(9),f=e(10),S=e(30),p=e.n(S),E=Object({NODE_ENV:"production",PUBLIC_URL:"/hacker-news-sesame",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).URL||"http://localhost:3000/",g={"Content-Type":"application/json",Accept:"application/json"},m=new(function(){function n(t){var e=t.baseURL,r=void 0===e?E:e,o=t.timeout,a=void 0===o?2e4:o,c=t.headers,i=void 0===c?g:c,u=t.auth;Object(h.a)(this,n);var s=p.a.create({baseURL:r,timeout:a,headers:i,auth:u});s.interceptors.response.use(this.handleSuccess,this.handleError),this.client=s}return Object(f.a)(n,[{key:"handleSuccess",value:function(n){return n}},{key:"handleError",value:function(n){return Promise.reject(n)}},{key:"get",value:function(n){return this.client.get(n).then((function(n){return n.data}))}},{key:"post",value:function(n,t){return this.client.post(n,t).then((function(n){return n.data}))}},{key:"put",value:function(n,t){return this.client.put(n,t).then((function(n){return n.data}))}},{key:"patch",value:function(n,t){return this.client.patch(n,t).then((function(n){return n.data}))}},{key:"delete",value:function(n){return this.client.delete(n).then((function(n){return n.data}))}}]),n}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),v={};v.getTopStoryIds=function(){return m.get("/topstories".concat(".json?print=pretty"))},v.getStory=function(n){return m.get("/item/".concat(n).concat(".json?print=pretty"))},v.getStoriesByPage=function(n,t){var e=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:t*n,end:(t+1)*n}}(20,t),r=function(n){var t=n.begin,e=n.end;return n.items.slice(t,e)}({begin:e.begin,end:e.end,items:n}).map((function(n){return v.getStory(n)}));return Promise.all(r)};var b=v,y="@hnClone/story",_={FETCH_STORY_IDS_REQUEST:"".concat(y,"/FETCH_STORY_IDS_REQUEST"),FETCH_STORY_IDS_SUCCESS:"".concat(y,"/FETCH_STORY_IDS_SUCCESS"),FETCH_STORY_IDS_FAILURE:"".concat(y,"/FETCH_STORY_IDS_FAILURE"),FETCH_STORIES_REQUEST:"".concat(y,"/FETCH_STORY_REQUEST"),FETCH_STORIES_SUCCESS:"".concat(y,"/FETCH_STORY_SUCCESS"),FETCH_STORIES_FAILURE:"".concat(y,"/FETCH_STORY_FAILURE")},T=function(n,t){return{type:n,payload:t}},O={fetchStoryIds:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t(T(_.FETCH_STORY_IDS_REQUEST),n),b.getTopStoryIds().then((function(n){return t(T(_.FETCH_STORY_IDS_SUCCESS,{storyIds:n})),t(O.fetchStories({storyIds:n,page:0})),n})).catch((function(n){return t(T(_.FETCH_STORIES_FAILURE,n))}))}},fetchStories:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t(T(_.FETCH_STORIES_REQUEST,n));var e=n.storyIds,r=n.page;return b.getStoriesByPage(e,r).then((function(n){return t(T(_.FETCH_STORIES_SUCCESS,{stories:n}))})).catch((function(n){return t(T(_.FETCH_STORY_IDS_FAILURE,n))}))}}},C=O,I=e(31),R=Object(I.a)((function(n){return n.story.storyIds}),(function(n){return n.story.stories}),(function(n,t){return n.length>t.length})),j=e(38),x=e(37),F={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"},w=e(36),H=e(32),k=e.n(H),U=function(n){var t="";return n&&(n.includes("//")||(n="http://".concat(n)),t=k.a.parse(n).hostname),t.includes("www.")&&(t=t.split("www.")[1]),t},D="https://news.ycombinator.com",L="".concat(D,"/item?id="),Y="".concat(D,"/user?id="),A=function(n){var t=n.url,e=n.id,r="".concat(L).concat(e);return t||r};function P(){var n=Object(i.a)(["\n  color: ",";\n  &:visited {\n    color: ",";\n  }\n"]);return P=function(){return n},n}function Q(){var n=Object(i.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return Q=function(){return n},n}function M(){var n=Object(i.a)(["\n  color: ",";\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n"]);return M=function(){return n},n}function z(){var n=Object(i.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return z=function(){return n},n}function B(){var n=Object(i.a)(["\n  color: ",";\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n"]);return B=function(){return n},n}function N(){var n=Object(i.a)(["\n  border-bottom: 1px solid ",";\n  padding: 14px 24px;\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return N=function(){return n},n}var W=u.c.li(N(),(function(n){return n.theme.border})),K=u.c.h3(B(),(function(n){return n.theme.text})),J=u.c.span(z(),(function(n){return n.theme.textSecondary})),V=u.c.a(M(),(function(n){return n.theme.text})),$=u.c.div(Q(),(function(n){return n.theme.textSecondary})),q=u.c.a(P(),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.textSecondary})),G="noopener noreferrer nofollow",X=function(n){var t=n.by,e=n.kids,r=void 0===e?[]:e,a=n.score,c=n.url,i=n.title,u=n.id,s=(n.type,n.time),l=U(c)||D,d=A({url:c,id:u}),h="".concat(L).concat(u),f="".concat(Y).concat(t);return o.a.createElement(W,null,o.a.createElement(V,{href:d,rel:G,target:"_blank"},o.a.createElement(K,null,i,o.a.createElement(J,null,"(",l,")"))),o.a.createElement($,null,a," points by "," ",o.a.createElement(q,{href:f,rel:G,target:"_blank"},t),Object(w.a)(new Date(1e3*s).toISOString())," "," | ",o.a.createElement(q,{href:h,rel:G,target:"_blank"},r.length," Comments")))};function Z(){var n=Object(i.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return Z=function(){return n},n}var nn=u.c.ul(Z(),(function(n){return n.theme.backgroundSecondary})),tn=function(n){var t=n.stories;return o.a.createElement(nn,null,t.map((function(n){return o.a.createElement(X,Object.assign({},n,{key:n.id}))})))};function en(){var n=Object(i.a)(["\n        color: ",";\n        font-size: 20px;\n        font-weight: 300;\n        margin-top: 24px;\n        margin-botom: 25px;\n    "]);return en=function(){return n},n}function rn(){var n=Object(i.a)(["\n    width: 85%;\n    margin-left: auto;\n    margin-right: auto;\n    height: 100%;\n    overflow: hidden;\n    padding-bottom: 200px;\n    \n    "," (\n        width: 96%;\n    )\n    "]);return rn=function(){return n},n}var on=u.c.div(rn(),"@media only screen and (max-width: 768px)"),an=u.c.h1(en(),(function(n){return n.theme.textSecondary})),cn=e(33);function un(){var n=Object(i.a)(["\n    text-align: center;\n    \n    span {\n        color: ",";\n        display:  inline-block;\n        margin-left: 4px;\n        margin-right: 4px;\n        font-size: 80px;\n        line-height: 0.1;\n        animation-name: ",";\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-fill-node: both;\n    }\n    \n    span:nth-child(2) {\n        animation-delay: .2s;\n    }\n    span:nth-child(3) {\n        animation-delay: .4s;\n    }\n"]);return un=function(){return n},n}function sn(){var n=Object(i.a)(["\n    0% {\n        opacity: .2;\n    }\n    20% {\n        opacity: 1;\n    }\n    100% {\n        opacity: .2;\n    }\n"]);return sn=function(){return n},n}var ln=Object(u.d)(sn()),dn=u.c.div(un(),(function(n){return n.theme.textSecondary}),ln),hn=function(){return o.a.createElement(dn,null,o.a.createElement("span",null,"."),o.a.createElement("span",null,"."),o.a.createElement("span",null,"."))},fn=(e(72),function(n){Object(j.a)(e,n);var t=Object(x.a)(e);function e(){var n;Object(h.a)(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))).fetchStories=function(){var t=n.props,e=t.storyIds,r=t.page,o=t.fetchStories;t.isFetching||o({storyIds:e,page:r})},n}return Object(f.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchStoriesFirstPage()}},{key:"render",value:function(){var n=this.props,t=n.stories,e=n.hasMoreStories;return o.a.createElement(u.a,{theme:F},o.a.createElement("div",null,o.a.createElement(on,null,o.a.createElement(an,null,"Hacker News Reader"),o.a.createElement(cn.a,{dataLength:t.length,next:this.fetchStories,hasMore:e,loader:o.a.createElement(hn,null),style:{height:"100%",overflow:"visible"}},o.a.createElement(tn,{stories:t})))))}}]),e}(o.a.Component)),Sn=Object(d.b)((function(n){return{stories:n.story.stories,page:n.story.page,storyIds:n.story.storyIds,isFetching:n.story.isFetching,hasMoreStories:R(n)}}),(function(n){return{fetchStoriesFirstPage:function(){return n(C.fetchStoryIds())},fetchStories:function(t){var e=t.storyIds,r=t.page;return n(C.fetchStories({storyIds:e,page:r}))}}}))(fn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pn=e(5),En=e(4),gn={SET_THEME:"".concat("@hnClone/app","/SET_THEME")},mn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"dark"},t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case gn.SET_THEME:return Object(En.a)(Object(En.a)({},n),r);default:return n}},vn=e(14),bn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case _.FETCH_STORY_IDS_REQUEST:case _.FETCH_STORIES_REQUEST:return Object(En.a)(Object(En.a)({},n),{},{isFetching:!0});case _.FETCH_STORY_IDS_SUCCESS:return Object(En.a)(Object(En.a)({},n),r);case _.FETCH_STORIES_SUCCESS:return Object(En.a)(Object(En.a)({},n),{},{stories:[].concat(Object(vn.a)(n.stories),Object(vn.a)(r.stories)),page:n.page+1,isFetching:!1});case _.FETCH_STORY_IDS_FAILURE:case _.FETCH_STORIES_FAILURE:return console.log(e,r),n;default:return n}},yn=Object(pn.c)({app:mn,story:bn}),_n=e(34),Tn=(e(35),[]);Tn.push(_n.a);var On=Object(pn.d)(pn.a.apply(void 0,Tn)),Cn=function(n){return Object(pn.e)(yn,n,On)};b.getTopStoryIds().then((function(n){return console.log(n)}));!function(){var n=Cn({});n.dispatch({type:"@hnClone/@@INIT"}),c.a.render(o.a.createElement(d.a,{store:n},o.a.createElement(l,null),o.a.createElement(Sn,null)),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.350ec7e6.chunk.js.map